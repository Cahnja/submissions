<!DOCTYPE html>
<html>
  <head>
    
    <style>
     svg{border: 1px solid;
	 background-color:white;}
     instructions{
       position:absolute;
       right: 10px;
       top:30px;}
     input{
       background: transparent;
       border: none !important;
       font-size:2px;
     }
    </style>

    <title>DonutEater</title>
  </head>

  <body>
    <svg  id = "s" width="700" height="500">
      <image href="donut.png" width="100" height="100" />
      <text x="450" y="475" id="money"></text>
      <text x="500" y="75" id="fcounter"></text>
      <text x="500" y="155" id="dwcounter"></text>
      <text x="500" y="235" id="bcounter"></text>
      <text x="500" y="315" id="brcounter"></text>
      <text x="500" y="395" id="zcounter"></text>
      <text x="0" y="490" id="cpower"></text>
      <text x="150" y="490" id="cCost"></text>
      Sorry, SVG doesn't work.
    </svg>
    
    <instructions>
      Instructions: DonutEater is a game where you get money for
      <br>
      "eating" donuts.
      <br>
      You can either click on the donut to get money faster
      <br>
      or buy helpers, by clicking the boxes.
      <br>
      You can click on a helper to sell them for 1/2 the price.
      <br>
      Click the cursor to upgrade your eating power.
      <br>
      The prices of the boxes are:
      <br>
      Green : 150
      <br>Attacks the donut at the fastest rate, however they do not make that much money.
      <br>
      Blue : 10000
      <br>Lasers.
      <br>
      Yellow : 1000000
      <br>Suspenders attacks slowly, however nets a lot of money.
      <br>
      DarkGray : 100000
      <br>Attacks at a normal speed and nets very little money,
      <br>however the longer he is in the game the more sell value.
      <br>
      Black : 10000000000
      <br>Bigger lasers.
      <br>
      <input type="submit" id="cheat" value="cheat" >
    </instructions>

    
    <script>
     //DONUTTTTTTTTTTTTTTTTTTT============================
     //outer donut
     //  var c1 = document.createElementNS("http://www.w3.org/2000/svg","circle");
     // c1.setAttribute('id',"c1");
     // c1.setAttribute('cx',80);
     // c1.setAttribute('cy',80);
     // c1.setAttribute('r',70);
     // c1.setAttribute('fill','cornsilk');
     // var c2 = document.createElementNS("http://www.w3.org/2000/svg","circle");
     // c2.setAttribute('id',"c2");
     // c2.setAttribute('cx',80);
     // c2.setAttribute('cy',80);
     // c2.setAttribute('r',25);
     // c2.setAttribute('fill','darkgray');
     var d = document.createElementNS("http://www.w3.org/2000/svg","image");
       d.setAttribute('height',450);
       d.setAttribute('width',450);
       d.setAttributeNS('http://www.w3.org/1999/xlink','href', 'UltDonut.png');
       d.setAttribute('x',0);
       d.setAttribute('y',0);
       d.setAttribute('visibility','visible');
     //End Donut========================================
     
     //Money ===============================================
     var money = 0;
     var disM = "Money: " + money;
     var t1 = document.getElementById("money")
     var textContent = document.createTextNode(disM);
     t1.appendChild(textContent);

  
     //End Money =========================================

     var clickPower = 25;
     var clickCost = 100;
     // Mouse ============================================
     var m = document.createElementNS("http://www.w3.org/2000/svg","image");
       m.setAttribute('height',50);
       m.setAttribute('width',50);
       m.setAttributeNS('http://www.w3.org/1999/xlink','href', 'mouse.png');
       m.setAttribute('x', 450);
       m.setAttribute('y',400);
       m.setAttribute('visibility','visible');

     var disCP = "Click Power: " + clickPower;
     var c1 = document.getElementById("cpower")
     var CContent = document.createTextNode(disCP);
     c1.appendChild(CContent);

     var disCC = "Click Cost: " + clickCost;
     var cc1 = document.getElementById("cCost")
     var CcContent = document.createTextNode(disCC);
     cc1.appendChild(CcContent);
     //===================================================
     
     //Buttons & Counters =========================================

     //Fluffy
     var b1 = document.createElementNS("http://www.w3.org/2000/svg","rect");
     b1.setAttribute('id',"b1");
     b1.setAttribute('x',500);
     b1.setAttribute('y',20);
     b1.setAttribute('width',150);
     b1.setAttribute('height',40)
     b1.setAttribute('fill','green');
     var fo = 0;
     var disFc = "Fluffys: " + fo;
     var f1 = document.getElementById("fcounter");
     var fContent = document.createTextNode(disFc);
     f1.appendChild(fContent);


     //DW
     var b2 = document.createElementNS("http://www.w3.org/2000/svg","rect");
     b2.setAttribute('id',"b1");
     b2.setAttribute('x',500);
     b2.setAttribute('y',100);
     b2.setAttribute('width',150);
     b2.setAttribute('height',40)
     b2.setAttribute('fill','blue');
     var dwo = 0;
     var disDwc = "DWs: " + fo;
     var dw1 = document.getElementById("dwcounter");
     var dwContent = document.createTextNode(disDwc);
     dw1.appendChild(dwContent);

     //Z
     var b3 = document.createElementNS("http://www.w3.org/2000/svg","rect");
     b3.setAttribute('id',"b1");
     b3.setAttribute('x',500);
     b3.setAttribute('y',180);
     b3.setAttribute('width',150);
     b3.setAttribute('height',40)
     b3.setAttribute('fill','yellow');
     var bo = 0;
     var disBc = "Brooks: " + fo;
     var bc1 = document.getElementById("bcounter");
     var bContent = document.createTextNode(disBc);
     bc1.appendChild(bContent);
     
     //NSA
     var b4 = document.createElementNS("http://www.w3.org/2000/svg","rect");
     b4.setAttribute('id',"b1");
     b4.setAttribute('x',500);
     b4.setAttribute('y',260);
     b4.setAttribute('width',150);
     b4.setAttribute('height',40)
     b4.setAttribute('fill','darkgray');
     var bro = 0;
     var disBrc = "Browns: " + fo;
     var br1 = document.getElementById("brcounter");
     var brContent = document.createTextNode(disBrc);
     br1.appendChild(brContent);
     
     //Snowden
     var b5= document.createElementNS("http://www.w3.org/2000/svg","rect");
     b5.setAttribute('id',"b1");
     b5.setAttribute('x',500);
     b5.setAttribute('y',340);
     b5.setAttribute('width',150);
     b5.setAttribute('height',40)
     b5.setAttribute('fill','black');
     var zo = 0;
     var disZc = "Zs: " + fo;
     var z1 = document.getElementById("zcounter");
     var zContent = document.createTextNode(disZc);
     z1.appendChild(zContent);
     
     //End Buttons =====================================
     //Screen Stuff
     var s = document.getElementById("s");
     s.appendChild(t1);
     //s.appendChild(c1);
     //s.appendChild(c2);
     s.appendChild(m);
     s.appendChild(d);
     s.appendChild(b1);
     s.appendChild(b2);
     s.appendChild(b3);
     s.appendChild(b4);
     s.appendChild(b5);

     //Functions =====================================
     var updateMoney = function(change){
       if(change < 0){
	 if(money < change * -1){
	   alert("Not enough money");
	   return false;
	   }
       }
       money= money + change;
       disM = "Money: " + money;
       textContent = document.createTextNode(disM);
       t1.textContent = disM;
       s.appendChild(t1);
       return true;
     }

     function updateMouse(){
       clickPower += 5;
       disCP = "Click Power: " + clickPower;
       CContent = document.createTextNode(disCP);
       c1.textContent = disCP;
       s.appendChild(c1);

       clickCost *= 1.5;
       disCC = "Click Cost: " + clickCost;
       CcContent = document.createTextNode(disCC);
       cc1.textContent = disCC;
       s.appendChild(cc1);
     }

     var updateCounters = function(t, v){
       switch(t){
	 case('f'):
	      fo+=v;
	      disFc = "Fluffys: " + fo;
	      fContent = document.createTextNode(disFc);
	      f1.textContent = disFc;
	      s.appendChild(f1);
	      break;
	 case('dw'):
	      dwo+=v;
	      disDwc = "DWs: " + dwo;
	      dwContent = document.createTextNode(disDwc);
	      dw1.textContent = disDwc;
	      s.appendChild(dw1);	      
	      break;
	 case('b'):
	      bo+=v;
	      disBc = "Brooks: " + bo;
	      bContent = document.createTextNode(disBc);
	      bc1.textContent = disBc;
	      s.appendChild(bc1);	      
	      break;
	 case('br'):
	      bro+=v;
	      disBrc = "Browns: " + bro;
	      brContent = document.createTextNode(disBrc);
	      br1.textContent = disBrc;
	      s.appendChild(br1);	      
	      break;
	 case('z'):
	      zo+=v;
	      disZc = "Zs: " + zo;
	      ZContent = document.createTextNode(disZc);
	      z1.textContent = disZc;
	      s.appendChild(z1);	      
	      break;
	 default:
	    alert("Error");
       }
     }

     var Sell = function(e){
       e.preventDefault();
       var val = parseFloat(this.getAttribute('value'));
       var t = this.getAttribute('class');
       updateCounters(t,-1);
       console.log(val);
       updateMoney(val);
       this.remove();
     }

     var Invest = function(e){
       e.preventDefault();
       var val = parseFloat(this.getAttribute('invest'));
       updateCounters('br',-1);
       console.log(val);
       updateMoney(val);
       this.remove();
     }
     
     var addImage = function(x,y,h,w,src,t){
       var i1 = document.createElementNS("http://www.w3.org/2000/svg","image");
       i1.setAttribute('height',h);
       i1.setAttribute('width',w);
       i1.setAttributeNS('http://www.w3.org/1999/xlink','href', src);
       i1.setAttribute('x',x);
       i1.setAttribute('y',y);
       i1.setAttribute('visibility','visible');
       i1.setAttribute('class',t);
       if(t == 'f'){
	 console.log("Fluffy");
	 i1.addEventListener('click',Sell);
	 i1.setAttribute('value',75);
       }
       else if (t == 'dw'){
	 i1.addEventListener('click',Sell);
	 i1.setAttribute('value',5000);
       }
       else if(t == 'b'){
	 i1.setAttribute('frames',1);
	 i1.addEventListener('click',Sell);
	 i1.setAttribute('value',50000);
       }
       else if(t == 'br'){
	 i1.addEventListener('click',Invest);
	 i1.setAttribute('invest',0);
       }
       else if (t == 'z'){
	 i1.addEventListener('click',Sell);
	 i1.setAttribute('value',5000000000);
       }
       s.appendChild(i1);
     }
     
     var Dclicked = function(e){
       e.preventDefault();
       console.log("Dclicked");
       d.setAttributeNS('http://www.w3.org/1999/xlink','href', 'UltDonutE.png');
       updateMoney(clickPower);
     }



     var Mclicked = function(e){
       e.preventDefault();
       console.log("MClick");
       if(updateMoney(clickCost * -1)){
	 updateMouse();
       }
     }

     
     var fy = 140;
     var dy = 150;
     var bry = 135;
     var zy = 150;
     var Bclicked = function(e){
       e.preventDefault();
       console.log('Dclicked')
       var c = this.getAttribute('fill');
       switch(c){
	case 'green':
	 if(updateMoney(-150)){
	   addImage(55,fy,50,50,'Fluffy.png','f');
	   fy+=20;
	   if (fy > 240){fy = 140;}
	   updateCounters('f',1);
	 }

	 break;
	case 'blue':
	 if (updateMoney(-10000)){
	   addImage(0,dy,50,50,'dw.png','dw');
	   dy+=30;
	   if(dy > 250){dy = 150;}
	   updateCounters('dw',1);
	 }
	 break;
	case 'yellow':
	 if (updateMoney(-1000000)){
	   addImage(225,50,140,140,'Brooks1.png','b');
	   updateCounters('b',1);
	 }
	 break;
	case 'darkgray':
	 if (updateMoney(-100000)){
	   addImage(160,bry,100,80,'brown.png','br');
	   bry+=30;
	   if(bry > 200){bry=135;}
	   updateCounters('br',1);
	 }
	 break;
	case 'black':
	 if(updateMoney(-10000000000)){
	   addImage(350,zy,150,150,'Z.png','z');
	   zy-=30;
	   if(zy < 10){zy = 50;}
	   updateCounters('z',1);
	 }
	 break;
	default:
	 alert("Something went wrong. Try again");
       }
     }

     
     var animate = function(){
       var fs = document.getElementsByClassName('f');
       for(var i = 0;i<fs.length;i++){
	 var x = parseFloat(fs[i].getAttribute('x'));
	 if(x >= 55 && x <= 60){
	   x+=2;
	 }
	 else{
	   x-=2;
	 }
	 fs[i].setAttribute('x',x);
	 updateMoney(.001);
       }
       var ds = document.getElementsByClassName('dw');
       for(var i = 0;i < ds.length;i++){
	 var x = parseFloat(ds[i].getAttribute('x')) + 30;
	 var y = parseFloat(ds[i].getAttribute('y')) + 23;
	 var l = document.createElementNS("http://www.w3.org/2000/svg","rect");
	 var rand = Math.random();
	 if (rand > .6){
	   l.setAttribute('class',"laser");
	   l.setAttribute('x',x);
	   l.setAttribute('y',y);
	   l.setAttribute('width',15);
	   l.setAttribute('height',3)
	   l.setAttribute('fill','red');
	   s.appendChild(l);
	 }
	 
       }
       
       var ls = document.getElementsByClassName('laser');
       for(var i = 0; i< ls.length;i++){
	 var x = parseFloat(ls[i].getAttribute('x'));
	 x+=4;
	 ls[i].setAttribute('x',x);
	 if(x > 450){
	   ls[i].remove();
	 }
	 updateMoney(.1);
       }
       
       var bs = document.getElementsByClassName('b');
       for(var i = 0; i < bs.length;i++){
	 var f = bs[i].getAttribute('frames');
	 switch(f){
	  case('1'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks2.png');
	       bs[i].setAttribute('frames',2);
	       break;
	  case('2'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks3.png');
	       bs[i].setAttribute('frames',3);
	       break;
	  case('3'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks4.png');
	       bs[i].setAttribute('frames',4);
	       break;
	  case('4'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks5.png');
	       bs[i].setAttribute('frames',5);
	       break;
	  case('5'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks6.png');
	       bs[i].setAttribute('frames',6);
	       break;
	  case('6'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks7.png');
	       bs[i].setAttribute('frames',7);
	       break;
	  case('7'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks8.png');
	       bs[i].setAttribute('frames',8);
	       break;
	  case('8'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks9.png');
	       bs[i].setAttribute('frames',9);
	       break;
	  case('9'):
	       bs[i].setAttributeNS('http://www.w3.org/1999/xlink','href', 'Brooks1.png');
	       bs[i].setAttribute('frames',1);
	       updateMoney(500);
	       break;
	   default:
	   alert("Not working.")
	 }
       }
       
       var brs = document.getElementsByClassName('br');
       for(var i = 0;i<brs.length;i++){
	 var x = parseFloat(brs[i].getAttribute('x'));
	 var inv = parseFloat(brs[i].getAttribute('invest'));
	 if(x >= 155 && x <= 160){
	   x-=2;
	 }
	 else{
	   x+=2;
	 }
	 var rand =  Math.random();
	 if (rand > .9){
	   inv+=10000;
	 }
	 else{
	   inv+=10;
	 }
	 inv * 1.2;
	 brs[i].setAttribute('invest',inv);
	 brs[i].setAttribute('x',x);
	 updateMoney(.9);
       }
       
       var zs = document.getElementsByClassName('z');
       for(var i = 0;i < zs.length;i++){
	 var x = parseFloat(zs[i].getAttribute('x')) + 6;
	 var y = parseFloat(zs[i].getAttribute('y')) + 90;
	 var l = document.createElementNS("http://www.w3.org/2000/svg","rect");
	 var rand = Math.random();
	 if (rand > .4){
	   l.setAttribute('class',"zlaser");
	   l.setAttribute('x',x);
	   l.setAttribute('y',y);
	   l.setAttribute('width',50);
	   l.setAttribute('height',30)
	   l.setAttribute('fill','red');
	   s.appendChild(l);
	 }
       }

       var zls = document.getElementsByClassName('zlaser');
       for(var i = 0; i< zls.length;i++){
	 var x = parseFloat(zls[i].getAttribute('x'));
	 x-=10;
	 zls[i].setAttribute('x',x);
	 if(x < 160){
	   zls[i].remove();
	 }
	 updateMoney(1337);
       }

       d.setAttributeNS('http://www.w3.org/1999/xlink','href', 'UltDonut.png');
       
     }

     var t =0;
     function go() {
       if (t==0){
	 t = setInterval(animate,150);
       } else {
	 clearInterval(t);
	 t=0;
       }

     }

     var cheat = function(){
       updateMoney(10000000000);
       alert("congratz for cheating")
     }
     //End Functions =================================


     //Button Image===================================


     //================================================

     
     //Add Functions
     d.addEventListener('click',Dclicked);
     m.addEventListener('click',Mclicked);
     //c2.addEventListener('click',Dclicked);
     b1.addEventListener('click',Bclicked);
     b2.addEventListener('click',Bclicked);
     b3.addEventListener('click',Bclicked);
     b4.addEventListener('click',Bclicked);
     b5.addEventListener('click',Bclicked);
     var ch = document.getElementById("cheat");
     ch.addEventListener('click',cheat);
     go();
    </script>
  </body>
  
</html>
