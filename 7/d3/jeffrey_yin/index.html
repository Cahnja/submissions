<!DOCTYPE html>
<html>
  <head>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>
    <script>
    console.log("hello world");
	$("div").click(
		function(){console.log("clicked");}
	);
	var addFilter = function(){
		console.log("clicked");
		$("#filters").append("<input type=text class=filter>");
	}
	d3.csv("grades.csv",function(d){makeSVG(d)});      
	var colnames=[];
	var generateList = function(filters){
		filter = "";
		row="<tr>";
		for (var key in d[0]){
			row=row+ "<td>"+ key +"</td>";
		}
		row = row + "</tr>";
		$("#data").append(row);
		for (var i=0;i<d.length;i++){
			row = "<tr>";
			for (var key in d[i]){
				row = row + "<td>" + d[i][key] + "</td>";
			}
			row.concat("</tr>");
			$("#data").append(row);
		}
	};
	var makeSVG=function(d){
		generateList(true);
		var f = d3.select("#filters");
      
		f.on("change",function(e){
		
			d3.selectAll(".row")
			.transition()
			.duration(2000)
			.attr("background-color", function(d){return d;})
		});
	};
			   
    </script>
	<style>
		#newfilter{
			border-style:solid;
			border-width: 1px;
			width: 200px;
		}
	</style>
  </head>
  <body>
    <ul id="filters">
      <input type="text" class="filter" placeholder="Enter a boolean:">
    </ul>
    <button id="newfilter"> Add a new filter </button>
    <table id="data">

    </table>
  </body>

</html>
